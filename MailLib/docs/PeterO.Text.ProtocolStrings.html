<!DOCTYPE html><html><head><meta http-equiv=Content-Type content="text/html; charset=utf-8"><title>PeterO.Text.ProtocolStrings</title><meta name="viewport" content="width=device-width"><link rel=stylesheet type="text/css" href="/style.css"></head><body>  <div class="header">
<p><a href="#navigation">Menu</a> - <a href="#top">Top</a> - <a href="/">Home</a> -
<a href="http://peteroupc.github.io/">Donate to Me</a></p></div>
<div class="mainarea" id="top">
<h1>PeterO.Text.ProtocolStrings</h1>

<h2>PeterO.Text.ProtocolStrings</h2>

<pre>public static class ProtocolStrings
</pre>

<p>Contains methods for preparing user-facing protocol strings (such as user identifiers) for equality comparison and validity checking. Such strings can be <em>internationalized</em>, that is, contain characters beyond the Basic Latin block (U+0000 to U+007F) of the Unicode Standard. See RFC 8264. Currently there are four profiles for internationalized strings: two for strings serving as user identifiers, one for arbitrary single-line strings [such as passwords], and one for display names.</p>

<ul>
<li><p>Other user-facing internationalized strings not expressly handled by this class include file and directory names, domain names, profile data voluntarily entered by users, and the text of article, post, and message bodies. The preparation and comparison of such strings is currently outside the scope of this class.</p></li>
<li><p>The methods in this class are not well suited for<i>collation</i>, or lexicographic ordering, which is a comparison of text strings that is usually language-dependent and goes beyond equality comparison. Further discussion on collation can be found in Unicode Technical Standard 10 (UTS 10), &quot;Unicode Collation Algorithm&quot;.</p></li>
<li><p>As explained in UTS 10 sec. 1.6, collation serves the purposes of searching and selection (e.g., searches by name or by title). However, this class is directed more to equality comparisons for authentication or authorization purposes, or to avoid creating multiple items that use the same string, rather than, say, to comparisons of names or parts of names for the purpose of showing matching records.</p></li>
</ul>

<ul>
<li><code> public static bool IsInFreeformClass( string str);</code> - Determines whether the given string belongs in RFC 8264&#39;s FreeformClass.</li>
<li><code> public static bool IsInIdentifierClass( string str);</code> - Determines whether the given string belongs in RFC 8264&#39;s IdentifierClass.</li>
<li><code> public static string NicknameEnforce( string str);</code> - Checks the validity of a string serving as a &quot;memorable, human-friendly name&quot; for something (see RFC 8266), as opposed to that thing&#39;s identity for authentication or authorization purposes (see sec.</li>
<li><code> public static string NicknameForComparison( string str);</code> - Prepares for comparison a string serving as a &quot;memorable, human-friendly name&quot; for something (see RFC 8266), as opposed to that thing&#39;s identity for authentication or authorization purposes (see sec.</li>
<li><code> public static string OpaqueStringEnforce( string str);</code> - Checks the validity of a string serving as an arbitrary single-line sequence of characters, such as a passphrase.</li>
<li><code> public static string UsernameEnforce( string str);</code> - Checks the validity of a string that can serve to identify a user or account (a &quot;username&quot;), where the string is made of one or more parts called &quot;userparts&quot; separated by spaces (U+0020) and where the case of letters in the string is mapped to lowercase.</li>
<li><code> public static string UserpartEnforce( string str);</code> - Checks the validity of a string without spaces that can serve to identify a user or account (a &quot;userpart&quot;), where the case of letters in the string is mapped to lowercase.</li>
</ul>

<h3>IsInFreeformClass</h3>

<pre>public static bool IsInFreeformClass(
    string str);
</pre>

<p>Determines whether the given string belongs in RFC 8264&#39;s FreeformClass. In general, the FreeformClass contains most letters, digits, spaces, punctuation, and symbols in the Unicode standard, as well as all basic printable characters (U+0021 to U+007E), but excludes control characters and separators.</p>

<p><b>Parameters:</b></p>

<ul>
<li><i>str</i>: A string to check.</li>
</ul>

<p><b>Return Value:</b></p>

<p><code>true</code>  if the given string is empty or contains only characters allowed in RFC 8264&#39;s FreeformClass (in the contexts required); otherwise,  <code>false</code> . Returns  <code>false</code>  if <i>str</i>
 is null.</p>

<h3>IsInIdentifierClass</h3>

<pre>public static bool IsInIdentifierClass(
    string str);
</pre>

<p>Determines whether the given string belongs in RFC 8264&#39;s IdentifierClass. In general, the IdentifierClass contains all code points in the Freeform class, except certain uncommon letters and digits, spaces, as well as punctuation and symbols outside the Basic Latin range (U+0000 to U+007F).</p>

<p><b>Parameters:</b></p>

<ul>
<li><i>str</i>: A string to check.</li>
</ul>

<p><b>Return Value:</b></p>

<p><code>true</code>  if the given string is empty or contains only characters allowed in RFC 8264&#39;s FreeformClass (in the contexts required); otherwise,  <code>false</code> . Returns  <code>false</code>  if <i>str</i>
 is null.</p>

<h3>NicknameEnforce</h3>

<pre>public static string NicknameEnforce(
    string str);
</pre>

<p>Checks the validity of a string serving as a &quot;memorable, human-friendly name&quot; for something (see RFC 8266), as opposed to that thing&#39;s identity for authentication or authorization purposes (see sec. 6.1 of that RFC). This checking is done using the Nickname profile in RFC 8266.</p>

<p><b>Parameters:</b></p>

<ul>
<li><i>str</i>: A string serving as a nickname for something.</li>
</ul>

<p><b>Return Value:</b></p>

<p>A nickname prepared for enforcement under the Nickname profile in RFC 8266. Returns null if that string is invalid under that profile (including if  <i>str</i>
 is null or empty). Return values of this method should not be used for comparison purposes (see RFC 8266, sec. 2.3); for such purposes, use the NicknameForComparison method instead.</p>

<h3>NicknameForComparison</h3>

<pre>public static string NicknameForComparison(
    string str);
</pre>

<p>Prepares for comparison a string serving as a &quot;memorable, human-friendly name&quot; for something (see RFC 8266), as opposed to that thing&#39;s identity for authentication or authorization purposes (see sec. 6.1 of that RFC). This operation is done using the Nickname profile in RFC 8266.</p>

<p><b>Parameters:</b></p>

<ul>
<li><i>str</i>: A string serving as a nickname for something.</li>
</ul>

<p><b>Return Value:</b></p>

<p>A nickname prepared for comparison under the Nickname profile in RFC 8266. Returns null if that string is invalid under that profile (including if  <i>str</i>
 is null or empty). For comparison purposes, return values of this method should be compared code point by code point (see RFC 8266, sec. 2.4).</p>

<h3>OpaqueStringEnforce</h3>

<pre>public static string OpaqueStringEnforce(
    string str);
</pre>

<p>Checks the validity of a string serving as an arbitrary single-line sequence of characters, such as a passphrase. This checking is done using the OpaqueString profile in RFC 8265. (REMARK: Specifying a string as this method does is not ideal if the string represents a password or other sensitive data, since strings are immutable in .NET and Java, so that its contents cannot be cleared when done. An application concerned about security may want to reimplement this method by passing a clearable array of characters rather than a text string.).</p>

<p><b>Parameters:</b></p>

<ul>
<li><i>str</i>: A string to prepare that represents an arbitrary single-line sequence of characters entered by a user.</li>
</ul>

<p><b>Return Value:</b></p>

<p>A string prepared under the OpaqueString profile in RFC 8265. Returns null if that string is invalid under that profile (including if  <i>str</i>
 is null or empty). For comparison purposes, return values of this method should be compared code point by code point (see RFC 8265, sec. 4.2.3).</p>

<h3>UsernameEnforce</h3>

<pre>public static string UsernameEnforce(
    string str);
</pre>

<p>Checks the validity of a string that can serve to identify a user or account (a &quot;username&quot;), where the string is made of one or more parts called &quot;userparts&quot; separated by spaces (U+0020) and where the case of letters in the string is mapped to lowercase. This checking is done using the UsernameCaseMapped profile in RFC 8265.</p>

<p><b>Parameters:</b></p>

<ul>
<li><i>str</i>: A string to prepare that represents a user or account identifier.</li>
</ul>

<p><b>Return Value:</b></p>

<p>A username where each of its parts is prepared under the UsernameCaseMapped profile in RFC 8265 (among other things, the string will be converted to lowercase). Returns null if any of those parts is invalid under that profile (including if  <i>str</i>
 is null or empty). Note that there will be as many spaces of separation between parts of the return value as between parts of the input; this method will not collapse multiple spaces (U+0020) into a single space. If such space collapsing on a string (or rejection of strings with multiple consecutive spaces) is desired, it should be done before that string is passed to this method. For comparison purposes, return values of this method should be compared code point by code point (see RFC 8265, sec. 3.3.4).</p>

<h3>UsernameEnforce</h3>

<pre>public static string UsernameEnforce(
    string str,
    bool preserveCase);
</pre>

<p>Checks the validity of a string that can serve to identify a user or account (a &quot;username&quot;), where the string is made of one or more parts called &quot;userparts&quot; separated by spaces (U+0020) and where the case of letters in the string is either mapped to lowercase or preserved. This checking is done using the UsernameCaseMapped or UsernameCasePreserved profile in RFC 8265.</p>

<p><b>Parameters:</b></p>

<ul>
<li><p><i>str</i>: A string to prepare that represents a user or account identifier.</p></li>
<li><p><i>preserveCase</i>: If true, use the UsernameCasePreserved profile to prepare each part of the string. If false, use the UsernameCaseMapped profile.</p></li>
</ul>

<p><b>Return Value:</b></p>

<p>A username where each of its parts is prepared under the UsernameCaseMapped or UsernameCasePreserved profile in RFC 8265. Returns null if any of those parts is invalid under that profile (including if  <i>str</i>
 is null or empty). Note that there will be as many spaces of separation between parts of the return value as between parts of the input; this method will not collapse multiple spaces (U+0020) into a single space. If such space collapsing on a string (or rejection of strings with multiple consecutive spaces) is desired, it should be done before that string is passed to this method. For comparison purposes, return values of this method (with the same value for  <i>preserveCase</i>
 ) should be compared code point by code point (see RFC 8265, secs. 3.3.4 and 3.4.4).</p>

<h3>UserpartEnforce</h3>

<pre>public static string UserpartEnforce(
    string str);
</pre>

<p>Checks the validity of a string without spaces that can serve to identify a user or account (a &quot;userpart&quot;), where the case of letters in the string is mapped to lowercase. This checking is done using the UsernameCaseMapped profile in RFC 8265.</p>

<p><b>Parameters:</b></p>

<ul>
<li><i>str</i>: A string to prepare that represents a user or account identifier.</li>
</ul>

<p><b>Return Value:</b></p>

<p>A userpart prepared under the UsernameCaseMapped profile in RFC 8265 (among other things, the string will be converted to lowercase). Returns null if  <i>str</i>
 is invalid under that profile (including if  <i>str</i>
 is null or empty). For comparison purposes, return values of this method should be compared code point by code point (see RFC 8265, sec. 3.3.4).</p>

<h3>UserpartEnforce</h3>

<pre>public static string UserpartEnforce(
    string str,
    bool preserveCase);
</pre>

<p>Checks the validity of a string without spaces that can serve to identify a user or account (a &quot;userpart&quot;), where the case of letters in the string is either mapped to lowercase or preserved. This checking is done using the UsernameCaseMapped or UsernameCasePreserved profile in RFC 8265.</p>

<p><b>Parameters:</b></p>

<ul>
<li><p><i>str</i>: A string to prepare that represents a user or account identifier.</p></li>
<li><p><i>preserveCase</i>: If true, use the UsernameCasePreserved profile to prepare the string. If false, use the UsernameCaseMapped profile.</p></li>
</ul>

<p><b>Return Value:</b></p>

<p>A userpart prepared under the UsernameCaseMapped or UsernameCasePreserved profile in RFC 8265. Returns null if <i>str</i>
 is invalid under that profile (including if <i>str</i>
 is null or empty). For comparison purposes, return values of this method (with the same value for  <i>preserveCase</i>
 ) should be compared code point by code point (see RFC 8265, secs. 3.3.4 and 3.4.4).</p>

<p><a href="/MailLib/">Back to MailLib start page.</a></p>
</div><nav id="navigation"><ul>
<li><a href="/">Back to start site.</a>
<li><a href="https://github.com/peteroupc/peteroupc.github.io">This site's repository (source code)</a>
<li><a href="https://github.com/peteroupc/peteroupc.github.io/issues">Post an issue or comment</a></ul>
<p>
If you like this software, you should consider donating to me, Peter O., at the link below:</p>
<p class="printonly"><b>peteroupc.github.io</b></p>
<div class="noprint">
<a href="https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=56E5T4FH7KD2S">
<img src="https://www.paypalobjects.com/en_US/i/btn/btn_donateCC_LG.gif"
name="submit" border="2" alt="PayPal - The safer, easier way to pay online!"></a>
<p>
<a href="//twitter.com/share" class="twitter-share-button" data-count="horizontal" data-lang="en">Share via Twitter</a>
<script type="text/javascript" charset="UTF-8" src="https://platform.twitter.com/widgets.js"></script>
<span><g:plusone size="medium"></g:plusone></span><br/>
<span><a href="//www.facebook.com/sharer/sharer.php" id="sharer">Share via Facebook</a></span>
</p>
</div>
</nav><script>
if(document.location.href.indexOf("file://")!=0){
  (function() {
    var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
    po.src = '//apis.google.com/js/plusone.js';
    var s = xExtra(document).getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
  })();
}
document.getElementById("sharer").href="//www.facebook.com/sharer/sharer.php?u="+
    encodeURIComponent(document.location.href)
</script>
</body></html>
